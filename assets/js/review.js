!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){var c=new Image;c.src=a.getAttribute("data-src"),c.onload=function(){a.src=this.src,a.className+=" loaded",b()}}function e(a,b){var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return c.open("GET",a),c.onreadystatechange=function(){c.readyState>3&&200==c.status&&b(c.responseText)},c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(),c}b.exports={lazyLoadImages:d,get:e}},{}],2:[function(a,b,c){function d(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode){if("."===c&&a.classList.contains(b.substr(1)))return a;if("#"===c&&a.id===b.substr(1))return a;if("["===c&&a.hasAttribute(b.substr(1,b.length-2)))return a;if(a.tagName.toLowerCase()===b)return a}return!1}function e(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}b.exports={getClosest:d,hasClass:e}},{}],3:[function(a,b,c){function d(){var a=320,b=document.getElementById("books"),c=document.getElementById("films");j=b.getElementsByClassName("img-cover"),k=c.getElementsByClassName("img-cover");var d=document.getElementsByClassName("open-review"),l=document.getElementsByClassName("close-review"),m=b.getElementsByClassName("h-scrollable"),q=c.getElementsByClassName("h-scrollable"),r=m[0].getElementsByTagName("ul"),s=q[0].getElementsByTagName("ul");j=[].slice.call(j,0),k=[].slice.call(k,0),d=[].slice.call(d,0),l=[].slice.call(l,0),d.forEach(function(a){a.addEventListener("click",g,!1)}),l.forEach(function(a){a.addEventListener("click",h,!1)}),m[0].addEventListener("scroll",e),q[0].addEventListener("scroll",f);var t=j.length*a,u=k.length*a;r[0].setAttribute("style","width:"+t+"px"),s[0].setAttribute("style","width:"+u+"px"),o={pageLoaded:1,size:a,itemsPerPage:Math.ceil(n/a)},o.pages=Math.ceil(j.length/o.itemsPerPage),p={pageLoaded:1,size:a,itemsPerPage:Math.ceil(n/a)},p.pages=Math.ceil(k.length/p.itemsPerPage),i(j.slice(0,o.itemsPerPage)),i(k.slice(0,p.itemsPerPage))}function e(a){var b=this.scrollLeft,c=o.pageLoaded<o.pages,d=b>o.size*(o.itemsPerPage/2)*o.pageLoaded;c&&d&&(i(j.slice(o.itemsPerPage*o.pageLoaded,o.itemsPerPage*(o.pageLoaded+1))),o.pageLoaded++)}function f(a){var b=this.scrollLeft,c=p.pageLoaded<p.pages,d=b>p.size*(p.itemsPerPage/2)*p.pageLoaded;c&&d&&(i(k.slice(p.itemsPerPage*p.pageLoaded,p.itemsPerPage*(p.pageLoaded+1))),p.pageLoaded++)}function g(){l.getClosest(this,"li").getElementsByClassName("review")[0].className+=" active"}function h(){var a=l.getClosest(this,"li");a.getElementsByClassName("review")[0].className=a.getElementsByClassName("review")[0].className.replace("active","")}function i(a){a.forEach(function(a){m.lazyLoadImages(a,function(){l.getClosest(a,"li").className+=" loaded"})})}var j,k,l=a("./_traversing.js"),m=a("./_ajax.js"),n=window.innerWidth,o={},p={};b.exports={init:d}},{"./_ajax.js":1,"./_traversing.js":2}],4:[function(a,b,c){"use strict";function d(){i&&i.addEventListener("click",e,!1),j.length&&(f=j[0].getElementsByTagName("a"),f=Array.prototype.slice.call(f,0),f.forEach(function(a){a.addEventListener("click",e,!1)}))}function e(){h.className=g.hasClass(h,"active-menu")===!0?"":"active-menu"}var f,g=a("./_traversing.js"),h=document.body,i=document.getElementById("toggle-nav"),j=document.getElementsByClassName("menu");b.exports={init:d}},{"./_traversing.js":2}],5:[function(a,b,c){"use strict";function d(){f.get(k,function(a){if(!a)return void console.error("No data available. Check the URL!");a=JSON.parse(a),e("films",a),e("books",a),g.init(),h.init()})}function e(a,b){var c={films:{tpl:j.films,id:"films"},books:{tpl:j.books,id:"books"}},d=i.render(c[a].tpl,b);document.getElementById(c[a].id).innerHTML=d}var f=a("./_ajax.js"),g=a("./h-scrolling.js"),h=a("./nav.js"),i=a("mustache"),j=a("./templates.js"),k="https://dl.dropboxusercontent.com/s/mwl7tnt8i83lebh/recensioni.json";document.onreadystatechange=function(){"complete"===document.readyState&&d()}},{"./_ajax.js":1,"./h-scrolling.js":3,"./nav.js":4,"./templates.js":6,mustache:7}],6:[function(a,b,c){var d=['<h2 class="section-title centered">Libri</h2>','<div class="h-scrollable">',"<ul>","{{ #books }}",'<li class="book">','<div class="details">','<h3 class="title centered"><a href="{{ link }}" target="_blank">{{ id }}</a></h3>','<p class="author centered">{{ author }}</p>',"{{ ^is-read }}",'<div class="item-status" title="pagine lette">',"@ &nbsp;","{{ status }}","</div>","{{ /is-read }}","</div>",'<div class="cover">','<div class="review">','<div class="close-review">','<i class="fa fa-times"></i>',"</div>","<p>","{{ #is-audio }}",'<span class="fa fa-headphones"></span>',"Audiolibro","{{ /is-audio }}","</p>","<p>","{{ review }}","</p>","</div>",'<a class="open-review">','<i class="fa fa-search fa-5x"></i>',"</a>",'<img class="img-cover" src="/assets/images/loader.svg" data-src="{{ cover }}"/>',"</div>",'<div class="date centered">','<span class="fa fa-eye"></span>',"<span>{{ date }}</span>","</div>",'<div class="stars centered">',"{{ stars }} / 5","</div>","</li>","{{ /books }}","</ul>","</div>"].join("\n"),e=['<h2 class="section-title centered">Film</h2>','<div class="h-scrollable">',"<ul>","{{ #films }}",'<li class="film">','<div class="details">','<h3 class="title centered">{{ title }}</h3>','<p class="author centered">{{ director }}</p>',"</div>",'<div class="cover">','<div class="review">','<div class="close-review">','<i class="fa fa-times"></i>',"</div>","{{ review }}","</div>",'<a class="open-review">','<i class="fa fa-search fa-5x"></i>',"</a>","<img ",'class="img-cover" ','src="/assets/images/loader.svg"','data-src="{{ cover }}"',"/>","</div>",'<div class="date centered">','<span class="fa fa-eye"></span>',"<span>{{ date }}</span>","</div>",'<div class="stars centered">',"{{ stars }} / 5","</div>","</li>","{{ /films }}","</ul>","</div>"].join("\n");b.exports={books:d,films:e}},{}],7:[function(a,b,c){!function(a,b){"object"==typeof c&&c&&"string"!=typeof c.nodeName?b(c):"function"==typeof define&&define.amd?define(["exports"],b):(a.Mustache={},b(a.Mustache))}(this,function(a){function b(a){return"function"==typeof a}function c(a){return p(a)?"array":typeof a}function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function e(a,b){return null!=a&&"object"==typeof a&&b in a}function f(a,b){return q.call(a,b)}function g(a){return!f(r,a)}function h(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return s[a]})}function i(b,c){function e(){if(r&&!s)for(;q.length;)delete o[q.pop()];else q=[];r=!1,s=!1}function f(a){if("string"==typeof a&&(a=a.split(u,2)),!p(a)||2!==a.length)throw new Error("Invalid tags: "+a);h=new RegExp(d(a[0])+"\\s*"),i=new RegExp("\\s*"+d(a[1])),m=new RegExp("\\s*"+d("}"+a[1]))}if(!b)return[];var h,i,m,n=[],o=[],q=[],r=!1,s=!1;f(c||a.tags);for(var y,z,A,B,C,D,E=new l(b);!E.eos();){if(y=E.pos,A=E.scanUntil(h))for(var F=0,G=A.length;F<G;++F)B=A.charAt(F),g(B)?q.push(o.length):s=!0,o.push(["text",B,y,y+1]),y+=1,"\n"===B&&e();if(!E.scan(h))break;if(r=!0,z=E.scan(x)||"name",E.scan(t),"="===z?(A=E.scanUntil(v),E.scan(v),E.scanUntil(i)):"{"===z?(A=E.scanUntil(m),E.scan(w),E.scanUntil(i),z="&"):A=E.scanUntil(i),!E.scan(i))throw new Error("Unclosed tag at "+E.pos);if(C=[z,A,y,E.pos],o.push(C),"#"===z||"^"===z)n.push(C);else if("/"===z){if(!(D=n.pop()))throw new Error('Unopened section "'+A+'" at '+y);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+y)}else"name"===z||"{"===z||"&"===z?s=!0:"="===z&&f(A)}if(D=n.pop())throw new Error('Unclosed section "'+D[1]+'" at '+E.pos);return k(j(o))}function j(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)(b=a[e])&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function k(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;g<h;++g)switch(b=a[g],b[0]){case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function l(a){this.string=a,this.tail=a,this.pos=0}function m(a,b){this.view=a,this.cache={".":this.view},this.parent=b}function n(){this.cache={}}var o=Object.prototype.toString,p=Array.isArray||function(a){return"[object Array]"===o.call(a)},q=RegExp.prototype.test,r=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},t=/\s*/,u=/\s+/,v=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},l.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},m.prototype.push=function(a){return new m(a,this)},m.prototype.lookup=function(a){var c,d=this.cache;if(d.hasOwnProperty(a))c=d[a];else{for(var f,g,h=this,i=!1;h;){if(a.indexOf(".")>0)for(c=h.view,f=a.split("."),g=0;null!=c&&g<f.length;)g===f.length-1&&(i=e(c,f[g])),c=c[f[g++]];else c=h.view[a],i=e(h.view,a);if(i)break;h=h.parent}d[a]=c}return b(c)&&(c=c.call(this.view)),c},n.prototype.clearCache=function(){this.cache={}},n.prototype.parse=function(a,b){var c=this.cache,d=c[a];return null==d&&(d=c[a]=i(a,b)),d},n.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof m?b:new m(b);return this.renderTokens(d,e,c,a)},n.prototype.renderTokens=function(a,b,c,d){for(var e,f,g,h="",i=0,j=a.length;i<j;++i)g=void 0,e=a[i],f=e[0],"#"===f?g=this.renderSection(e,b,c,d):"^"===f?g=this.renderInverted(e,b,c,d):">"===f?g=this.renderPartial(e,b,c,d):"&"===f?g=this.unescapedValue(e,b):"name"===f?g=this.escapedValue(e,b):"text"===f&&(g=this.rawValue(e)),void 0!==g&&(h+=g);return h},n.prototype.renderSection=function(a,c,d,e){function f(a){return g.render(a,c,d)}var g=this,h="",i=c.lookup(a[1]);if(i){if(p(i))for(var j=0,k=i.length;j<k;++j)h+=this.renderTokens(a[4],c.push(i[j]),d,e);else if("object"==typeof i||"string"==typeof i||"number"==typeof i)h+=this.renderTokens(a[4],c.push(i),d,e);else if(b(i)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,e.slice(a[3],a[5]),f),null!=i&&(h+=i)}else h+=this.renderTokens(a[4],c,d,e);return h}},n.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||p(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},n.prototype.renderPartial=function(a,c,d){if(d){var e=b(d)?d(a[1]):d[a[1]];return null!=e?this.renderTokens(this.parse(e),c,d,e):void 0}},n.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},n.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},n.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="2.3.0",a.tags=["{{","}}"];var y=new n;return a.clearCache=function(){return y.clearCache()},a.parse=function(a,b){return y.parse(a,b)},a.render=function(a,b,d){if("string"!=typeof a)throw new TypeError('Invalid template! Template should be a "string" but "'+c(a)+'" was given as the first argument for mustache#render(template, view, partials)');return y.render(a,b,d)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);if(!b(f))return g;f(g)},a.escape=h,a.Scanner=l,a.Context=m,a.Writer=n,a})},{}]},{},[5]);